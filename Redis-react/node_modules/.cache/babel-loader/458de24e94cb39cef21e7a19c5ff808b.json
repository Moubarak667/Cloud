{"ast":null,"code":"var _jsxFileName = \"/home/nabster/redis-react/src/App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport './App.css';\nimport { URL } from './conf';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [state, setState] = useState([]);\n  const [newV, setnewV] = useState('');\n  const [newK, setnewK] = useState('');\n  useEffect(() => {\n    fetch(URL + '/items').then(r => r.json()).then(setState);\n  }, []);\n\n  const create = (id, val) => {\n    fetch(URL + '/item', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id,\n        val\n      })\n    }).then(_ => setState([...state, id]));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [state.map(key => /*#__PURE__*/_jsxDEV(Key, {\n      val: key\n    }, key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" New key\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), \"key:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: newK,\n        onChange: event => setnewK(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), \"Value:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: newV,\n        onChange: event => setnewV(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => create(newK, newV),\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Ygc4EykqxS15Xr7h3qr4P0qj2GY=\");\n\n_c = App;\nexport default App;\n\nconst Key = _ref => {\n  _s2();\n\n  let {\n    val\n  } = _ref;\n  const [state, setState] = useState('');\n  const [updated, setUpdated] = useState('');\n  useEffect(() => {\n    fetch(URL + '/item?id=' + val).then(r => r.text()).then(setState);\n  }, [val]);\n\n  const update = (id, val) => {\n    setUpdated('updating');\n    fetch(URL + '/item', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id,\n        val\n      })\n    }).then(() => setUpdated(''));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"key\",\n    children: [val, \":\", ' ', /*#__PURE__*/_jsxDEV(\"input\", {\n      value: state,\n      onChange: event => {\n        setUpdated('updated');\n        setState(event.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), updated && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => update(val, state),\n      children: \"update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Key, \"56f9mTJ4a1A1LBguW/G2WvrYddQ=\");\n\n_c2 = Key;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Key\");","map":{"version":3,"names":["useEffect","useState","URL","App","state","setState","newV","setnewV","newK","setnewK","fetch","then","r","json","create","id","val","method","headers","Accept","body","JSON","stringify","_","map","key","event","target","value","Key","updated","setUpdated","text","update"],"sources":["/home/nabster/redis-react/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport './App.css'\nimport { URL } from './conf'\n\nfunction App() {\n  const [state, setState] = useState([])\n  const [newV, setnewV] = useState('')\n  const [newK, setnewK] = useState('')\n  useEffect(() => {\n    fetch(URL + '/items')\n      .then((r) => r.json())\n      .then(setState)\n  }, [])\n\n  const create = (id, val) => {\n    fetch(URL + '/item', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ id, val }),\n    }).then((_) => setState([...state, id]))\n  }\n\n  return (\n    <div className=\"App\">\n      {state.map((key) => (\n        <Key val={key} key={key} />\n      ))}\n      <div className=\"new\">\n        <h1> New key</h1>\n        key:\n        <input value={newK} onChange={(event) => setnewK(event.target.value)} />\n        Value:\n        <input value={newV} onChange={(event) => setnewV(event.target.value)} />\n        <button onClick={() => create(newK, newV)}>add</button>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n\nconst Key = ({ val }) => {\n  const [state, setState] = useState('')\n  const [updated, setUpdated] = useState('')\n  useEffect(() => {\n    fetch(URL + '/item?id=' + val)\n      .then((r) => r.text())\n      .then(setState)\n  }, [val])\n\n  const update = (id, val) => {\n    setUpdated('updating')\n    fetch(URL + '/item', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ id, val }),\n    }).then(() => setUpdated(''))\n  }\n\n  return (\n    <div className=\"key\">\n      {val}:{' '}\n      <input\n        value={state}\n        onChange={(event) => {\n          setUpdated('updated')\n          setState(event.target.value)\n        }}\n      />\n      {updated && <button onClick={() => update(val, state)}>update</button>}\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}